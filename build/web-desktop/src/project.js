window.__require=function t(i,n,e){function o(r,h){if(!n[r]){if(!i[r]){var c=r.split("/");if(c=c[c.length-1],!i[c]){var a="function"==typeof __require&&__require;if(!h&&a)return a(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}}var l=n[r]={exports:{}};i[r][0].call(l.exports,function(t){return o(i[r][1][t]||t)},l,l.exports,t,i,n,e)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<e.length;r++)o(e[r]);return o}({CarController:[function(t,i,n){"use strict";cc._RF.push(i,"c15a7ErOQVL6qUHrgSDem0K","CarController"),cc.Class({extends:cc.Component,properties:{xStart:0,yStart:-450,yTarget:0,speed:120,isComing:!1,scale:1,counter:0},start:function(){this.node.y=this.yStart},update:function(t){if(this.isComing&&this.node.y<this.yTarget){this.node.y+=this.speed*t,this.counter+=this.speed*t;var i=Math.max(0,1-this.counter/450);this.node.scaleX=i,this.node.scaleY=i}}}),cc._RF.pop()},{}],ChickenController:[function(t,i,n){"use strict";cc._RF.push(i,"508f2RGFVtDTYZar3Uc3kum","ChickenController"),cc.Class({extends:cc.Component,properties:{xStart:-250,xTarget:10,yStart:-60,speed:100,isMoving:!1,isMove:!1,isDie:!1,anim:cc.Animation,sprite:cc.Sprite,targetColor:cc.Color.BLACK},start:function(){this.node.x=this.xStart,this.anim=this.getComponent("cc.Animation"),this.sprite=this.getComponent(cc.Sprite)},update:function(t){this.isMoving&&this.node.x<this.xTarget&&(this.node.x+=this.speed*t,this.node.x<0?this.run():this.node.x<this.xTarget&&(this.die(),this.changeColor()))},run:function(){this.isMove||(this.anim.play("ChickenRun"),this.isMove=!0)},die:function(){this.isDie||(this.anim.play("ChickenDie"),this.isDie=!0)},changeColor:function(){this.sprite.node.color=this.targetColor}}),cc._RF.pop()},{}],GameManager:[function(t,i,n){"use strict";cc._RF.push(i,"9a0451vf+JFeYK3FyzAnkrq","GameManager"),cc._RF.pop()},{}],LightsController:[function(t,i,n){"use strict";cc._RF.push(i,"588aePyf0lLDbjmqs7H5l+T","LightsController"),cc.Class({extends:cc.Component,properties:{redLight:cc.Sprite,yellowLight:cc.Sprite,greenLight:cc.Sprite,chicken:cc.Node,car:cc.Node,transitionIndex:0,transitionTime:0,blinkTime:0,blinkCount:0},onLoad:function(){this.setColors(),this.startLight()},setColors:function(){this.redLight.node.color=cc.Color.RED,this.yellowLight.node.color=cc.Color.YELLOW,this.greenLight.node.color=cc.Color.GREEN},startLight:function(){this.transitions=[{light:this.redLight,duration:1,blinkCount:3},{light:this.yellowLight,duration:1,blinkCount:3},{light:this.greenLight,duration:1}]},update:function(t){if(this.transitionTime+=t,this.transitionIndex<this.transitions.length){var i=this.transitions[this.transitionIndex];this.transitionTime<i.duration?this.setLight(i.light):i.blinkCount>0?(this.blinkTime+=t,this.blinkTime>=.2&&(this.blinkTime=0,this.blinkLights(i.light))):this.nextTransition()}else this.turnOffAllLights(),this.greenLight.node.active=!0,(this.greenLight.node.active=!0)&&(this.chicken.getComponent("ChickenController").isMoving=!0,this.car.getComponent("CarController").isComing=!0)},setLight:function(t){this.turnOffAllLights(),t.node.active=!0},blinkLights:function(t){t.node.active=!t.node.active,this.blinkCount++,this.blinkCount>=6&&(this.blinkCount=0,t.node.active=!0,this.nextTransition())},nextTransition:function(){this.transitionIndex++,this.transitionTime=0,this.blinkTime=0},turnOffAllLights:function(){this.redLight.node.active=!1,this.yellowLight.node.active=!1,this.greenLight.node.active=!1}}),cc._RF.pop()},{}]},{},["CarController","ChickenController","GameManager","LightsController"]);